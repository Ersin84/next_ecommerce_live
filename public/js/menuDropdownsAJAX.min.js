!function(a){wromoxThemeModule.menuDropdownsAJAX=function(){function b(b){a(".menu").has(".dropdown-load-ajax").each(function(){var e=a(this);e.hasClass("dropdowns-loading")||e.hasClass("dropdowns-loaded")||d(e,50,b)&&c(e)})}function c(b){function c(a){Object.keys(a).forEach(function(c){wromoxThemeModule.removeDuplicatedStylesFromHTML(a[c],function(a){b.find('[data-id="'+c+'"]').replaceWith(a),b.addClass("dropdowns-loaded"),setTimeout(function(){b.removeClass("dropdowns-loading")},1e3)})}),wromoxThemeModule.$document.trigger("wdLoadDropdownsSuccess")}b.addClass("dropdowns-loading");var d=wromox_settings.menu_storage_key+"_"+b.attr("id"),e=!1,f=b.find(".dropdown-load-ajax"),g=[];if(f.each(function(){g.push(a(this).find(".dropdown-html-placeholder").data("id"))}),wromox_settings.ajax_dropdowns_save&&wromoxThemeModule.supports_html5_storage){var h=localStorage.getItem(d);try{e=JSON.parse(h)}catch(i){console.log("cant parse Json",i)}}e?c(e):a.ajax({url:wromox_settings.ajaxurl,data:{action:"wromox_load_html_dropdowns",ids:g},dataType:"json",method:"POST",success:function(a){"success"===a.status?(c(a.data),wromox_settings.ajax_dropdowns_save&&wromoxThemeModule.supports_html5_storage&&localStorage.setItem(d,JSON.stringify(a.data))):console.log("loading html dropdowns returns wrong data - ",a.message)},error:function(){console.log("loading html dropdowns ajax error")}})}function d(a,b,c){var d=a.offset().left-b,e=a.offset().top-b,f=d+a.width()+2*b,g=e+a.height()+2*b,h=c.pageX,i=c.pageY;return h>d&&h<f&&i>e&&i<g}wromoxThemeModule.$body.on("mousemove",b)},a(document).ready(function(){wromoxThemeModule.menuDropdownsAJAX()})}(jQuery);